package ebustl

import (
	"encoding/hex"
	"errors"
)

// there's loads of them

// code tables
/*
Character Code
Table (CCT)
Language group ISO Standard [1,2] Hex
representation
00 Latin 6937/2-1983/Add.1:1989 30h 30h
01 Latin/Cyrillic 8859/5-1988 30h 31h
02 Latin/Arabic 8859/6-1987 30h 32h
03 Latin/Greek 8859/7-1987 30h 33h
04 Latin/Hebrew 8859/8-1988 30h 34h

*/

func GetCodePageCharacter(codepage string, char byte) (string, error) {
	codetable, ok := CodeTable[codepage]
	if !ok {
		return "", errors.New("character [" + hex.EncodeToString([]byte{char}) + "] not found in codepage (codepage lookup not found)")
	}
	sub, ok := codetable[char]
	if !ok {
		return "", errors.New("character [" + hex.EncodeToString([]byte{char}) + "] not found in codepage (character not in lookup)")
	}
	return sub, nil
}

var CodeTable = map[string]map[byte]string{
	"00": CodeTableLatin,
	"01": CodeTableLatinCyrillic,
}

//////////////////////////////
// Latin - 00
//////////////////////////////

var CodeTableLatin = map[byte]string{
	0x20: "",
	0x21: "!",
	0x22: "\"",
	0x23: "#",
	0x24: "¤",
	0x25: "%",
	0x26: "&",
	0x27: "'",
	0x28: "(",
	0x29: ")",
	0x2a: "*",
	0x2b: "+",
	0x2c: ":",
	0x2d: "-",
	0x2e: ".",
	0x2f: "/",
	0x30: "0",
	0x31: "1",
	0x32: "2",
	0x33: "3",
	0x34: "4",
	0x35: "5",
	0x36: "6",
	0x37: "7",
	0x38: "8",
	0x39: "9",
	0x3a: ":",
	0x3b: ";",
	0x3c: "<",
	0x3d: "=",
	0x3e: ">",
	0x3f: "?",
	0x40: "@",
	0x41: "A",
	0x42: "B",
	0x43: "C",
	0x44: "D",
	0x45: "E",
	0x46: "F",
	0x47: "G",
	0x48: "H",
	0x49: "I",
	0x4a: "J",
	0x4b: "K",
	0x4c: "L",
	0x4d: "M",
	0x4e: "N",
	0x4f: "O",
	0x50: "P",
	0x51: "Q",
	0x52: "R",
	0x53: "S",
	0x54: "T",
	0x55: "U",
	0x56: "V",
	0x57: "W",
	0x58: "X",
	0x59: "Y",
	0x5a: "Z",
	0x5b: "[",
	0x5c: "\\",
	0x5d: "]",
	0x5e: "^",
	0x5f: "_",
	0x60: "`",
	0x61: "a",
	0x62: "b",
	0x63: "c",
	0x64: "d",
	0x65: "e",
	0x66: "f",
	0x67: "g",
	0x68: "h",
	0x69: "i",
	0x6a: "j",
	0x6b: "k",
	0x6c: "l",
	0x6d: "m",
	0x6e: "n",
	0x6f: "o",
	0x70: "p",
	0x71: "q",
	0x72: "r",
	0x73: "s",
	0x74: "t",
	0x75: "u",
	0x76: "v",
	0x77: "w",
	0x78: "x",
	0x79: "y",
	0x7a: "z",
	0x7b: "{",
	0x7c: "|",
	0x7d: "}",
	0x7e: "~",
	0xa0: string([]byte{0xC2: 0xA0}),
	0xa1: "¡",
	0xa2: "¢",
	0xa3: "£",
	0xa4: "$",
	0xa5: "¥",

	0xa7: "§",

	0xa9: "‘",
	0xaa: "“",
	0xab: "«",
	0xac: "←",
	0xad: "↑",
	0xae: "→",
	0xaf: "↓",
	0xb0: "°",
	0xb1: "±",
	0xb2: "²",
	0xb3: "³",
	0xb4: "×",
	0xb5: "µ",
	0xb6: "¶",
	0xb7: "·",
	0xb8: "÷",
	0xb9: "’",
	0xba: "”",
	0xbb: "»",
	0xbc: "¼",
	0xbd: "½",
	0xbe: "¾",
	0xbf: "¿",
	0xc1: "`",
	0xc2: "ˊ",
	0xc3: "^",
	0xc4: "~",
	0xc5: "ˉ",
	0xc6: "ˇ",
	0xc7: "˙",
	0xc8: string([]byte{0xCC: 0x88}),
	0xca: string([]byte{0xCC: 0x8A}),
	0xcb: string([]byte{0xCC: 0xA7}),
	0xcd: string([]byte{0xCC: 0x8B}),
	0xce: string([]byte{0xCC: 0xA8}),
	0xcf: string([]byte{0xCC: 0x8C}),
	0xd0: "―",
	0xd1: "¹",
	0xd2: "®",
	0xd3: "©",
	0xd4: "™",
	0xd5: "♪",
	0xd6: "¬",
	0xd7: "¦",
	0xdc: "⅛",
	0xdd: "⅜",
	0xde: "⅝",
	0xdf: "⅞",
	0xe0: "Ω",
	0xe1: "Æ",
	0xe2: "Đ",
	0xe3: "ª",
	0xe4: "Ħ",
	0xe6: "Ĳ",
	0xe7: "Ŀ",
	0xe8: "Ł",
	0xe9: "Ø",
	0xea: "Œ",
	0xeb: "º",
	0xec: "Þ",
	0xed: "Ŧ",
	0xee: "Ŋ",
	0xef: "ŉ",
	0xf0: "ĸ",
	0xf1: "æ",
	0xf2: "đ",
	0xf3: "ð",
	0xf4: "ħ",
	0xf5: "ı",
	0xf6: "ĳ",
	0xf7: "ŀ",
	0xf8: "ł",
	0xf9: "ø",
	0xfa: "œ",
	0xfb: "ß",
	0xfc: "þ",
	0xfd: "ŧ",
	0xfe: "ŋ",
	0xff: string([]byte{0xC2: 0xAD}),
}

//////////////////////////////
// Latin / Cyrillic - 01
// https://en.wikipedia.org/wiki/ISO/IEC_8859-5#:~:text=ISO%2D8859%2D5%20is%20the,that%20code%20page%20was%20extended.
//////////////////////////////

var CodeTableLatinCyrillic = map[byte]string{
	0x20: "",
	0x21: "!",
	0x22: "\"",
	0x23: "#",
	0x24: "$",
	0x25: "%",
	0x26: "&",
	0x27: "'",
	0x28: "(",
	0x29: ")",
	0x2a: "*",
	0x2b: "+",
	0x2c: ",",
	0x2d: "-",
	0x2e: ".",
	0x2f: "/",
	0x30: "0",
	0x31: "1",
	0x32: "2",
	0x33: "3",
	0x34: "4",
	0x35: "5",
	0x36: "6",
	0x37: "7",
	0x38: "8",
	0x39: "9",
	0x3a: ":",
	0x3b: ";",
	0x3c: "<",
	0x3d: "=",
	0x3e: ">",
	0x3f: "?",
	0x40: "@",
	0x41: "A",
	0x42: "B",
	0x43: "C",
	0x44: "D",
	0x45: "E",
	0x46: "F",
	0x47: "G",
	0x48: "H",
	0x49: "I",
	0x4a: "J",
	0x4b: "K",
	0x4c: "L",
	0x4d: "M",
	0x4e: "N",
	0x4f: "O",
	0x50: "P",
	0x51: "Q",
	0x52: "R",
	0x53: "S",
	0x54: "T",
	0x55: "U",
	0x56: "V",
	0x57: "W",
	0x58: "X",
	0x59: "Y",
	0x5a: "Z",
	0x5b: "[",
	0x5c: "\\",
	0x5d: "]",
	0x5e: "^",
	0x5f: "_",
	0x60: " ",
	0x61: "a",
	0x62: "b",
	0x63: "c",
	0x64: "d",
	0x65: "e",
	0x66: "f",
	0x67: "g",
	0x68: "h",
	0x69: "i",
	0x6a: "j",
	0x6b: "k",
	0x6c: "l",
	0x6d: "m",
	0x6e: "n",
	0x6f: "o",
	0x70: "p",
	0x71: "q",
	0x72: "r",
	0x73: "s",
	0x74: "t",
	0x75: "u",
	0x76: "v",
	0x77: "w",
	0x78: "x",
	0x79: "y",
	0x7a: "z",
	0x7b: "{",
	0x7c: "|",
	0x7d: "}",
	0x7e: "~",
	0xa0: string([]byte{0xC2: 0xA0}),
	0xa1: "Ё",
	0xa2: "Ђ",
	0xa3: "Ѓ",
	0xa4: "Є",
	0xa5: "Ѕ",
	0xa6: "І",
	0xa7: "Ї",
	0xa8: "Ј",
	0xa9: "Љ",
	0xaa: "Њ",
	0xab: "Ћ",
	0xac: "Ќ",
	0xad: "SHY", // what is this?
	0xae: "Ў",
	0xaf: "Џ",

	0xb0: "А",
	0xb1: "Б",
	0xb2: "В",
	0xb3: "Г",
	0xb4: "Д",
	0xb5: "Е",
	0xb6: "Ж",
	0xb7: "З",
	0xb8: "И",
	0xb9: "Й",
	0xba: "К",
	0xbb: "Л",
	0xbc: "М",
	0xbd: "Н",
	0xbe: "О",
	0xbf: "П",

	0xc0: "Р",
	0xc1: "С",
	0xc2: "Т",
	0xc3: "У",
	0xc4: "Ф",
	0xc5: "Х",
	0xc6: "Ц",
	0xc7: "Ч",
	0xc8: "Ш",
	0xc9: "Щ",
	0xca: "Ъ",
	0xcb: "Ы",
	0xcc: "Ь",
	0xcd: "Э",
	0xce: "Ю",
	0xcf: "Я",

	0xd0: "а",
	0xd1: "б",
	0xd2: "в",
	0xd3: "г",
	0xd4: "д",
	0xd5: "е",
	0xd6: "ж",
	0xd7: "з",
	0xd8: "и",
	0xd9: "й",
	0xda: "к",
	0xdb: "л",
	0xdc: "м",
	0xdd: "н",
	0xde: "о",
	0xdf: "п",

	0xe0: "р",
	0xe1: "с",
	0xe2: "т",
	0xe3: "у",
	0xe4: "ф",
	0xe5: "х",
	0xe6: "ц",
	0xe7: "ч",
	0xe8: "ш",
	0xe9: "щ",
	0xea: "ъ",
	0xeb: "ы",
	0xec: "ь",
	0xed: "э",
	0xee: "ю",
	0xef: "я",

	0xf0: "№",
	0xf1: "ё",
	0xf2: "ђ",
	0xf3: "ѓ",
	0xf4: "є",
	0xf5: "ѕ",
	0xf6: "і",
	0xf7: "ї",
	0xf8: "ј",
	0xf9: "љ",
	0xfa: "њ",
	0xfb: "ћ",
	0xfc: "ќ",
	0xfd: "§",
	0xfe: "ў",
	0xff: "џ",
}
